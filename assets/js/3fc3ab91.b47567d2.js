(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7460],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),s=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(o.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,o=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),u=s(n),c=r,k=u["".concat(o,".").concat(c)]||u[c]||d[c]||l;return n?a.createElement(k,i(i({ref:e},m),{},{components:n})):a.createElement(k,i({ref:e},m))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=u;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p.mdxType="string"==typeof t?t:r,i[1]=p;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9320:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return s},toc:function(){return m},default:function(){return u}});var a=n(2122),r=n(9756),l=(n(7294),n(3905)),i=["components"],p={sidebar_position:1},o="React Spring",s={unversionedId:"React Spring/react-spring",id:"React Spring/react-spring",isDocsHomePage:!1,title:"React Spring",description:"\u4ecb\u7ecd",source:"@site/docs/React Spring/react-spring.md",sourceDirName:"React Spring",slug:"/React Spring/react-spring",permalink:"/docusauras-blog-client/docs/React Spring/react-spring",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/React Spring/react-spring.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"react-native-errors",permalink:"/docusauras-blog-client/docs/React Native/react-native-errors"},next:{title:"\u8bb0\u5f55\u4e00\u4e9b\u81ea\u5df1\u4f7f\u7528\u7684\u52a8\u753b\u6548\u679c",permalink:"/docusauras-blog-client/docs/React Spring/react-spring-demo"}},m=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",children:[]},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",children:[]},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",children:[{value:"hooks",id:"hooks",children:[]},{value:"Common Api",id:"common-api",children:[]},{value:"useSpring",id:"usespring",children:[]},{value:"useSprings",id:"usesprings",children:[]},{value:"useTrail",id:"usetrail",children:[]},{value:"useTransition",id:"usetransition",children:[]}]},{value:"Render-props-Api",id:"render-props-api",children:[{value:"Parallax",id:"parallax",children:[]}]}],d={toc:m};function u(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"react-spring"},"React Spring"),(0,l.kt)("h2",{id:"\u4ecb\u7ecd"},"\u4ecb\u7ecd"),(0,l.kt)("p",null,"react-spring\u662f\u8de8\u5e73\u53f0\u7684\uff0c\u5b83\u652f\u6301web\uff0creact-native\uff0creact-native-web\u4ee5\u53ca\u51e0\u4e4e\u4efb\u4f55\u5176\u4ed6\u5e73\u53f0\u3002"),(0,l.kt)("h2",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,l.kt)("p",null,"1.\u4f7f\u7528npm"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"npm install react-spring\n")),(0,l.kt)("p",null,"2.\u4f7f\u7528yarn"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"yarn add react-spring\n")),(0,l.kt)("h2",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,l.kt)("h3",{id:"hooks"},"hooks"),(0,l.kt)("p",null,"\u5f53\u524d\uff0creact-spring\u4e2d\u67095\u4e2a\u94a9\u5b50\uff1a"),(0,l.kt)("p",null," ",(0,l.kt)("inlineCode",{parentName:"p"},"useSpring")," \t\t\t\t\t\u7c7b\u4f3c\u4e00\u4e2a\u5f39\u7c27\uff0c\u4f7f\u7ec4\u4ef6\u4eceA\u72b6\u6001\u8f6c\u53d8\u4e3aB\u72b6\u6001\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useSprings"),"\t\t\t\t\t\u591a\u4e2a\u5f39\u7c27\uff0c\u7528\u4e8e\u5217\u8868\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5f39\u7c27\u4eceA\u72b6\u6001\u8f6c\u53d8\u4e3aB\u72b6\u6001\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useTrail"),"\t\t\t\t\t\t\u5177\u6709\u5355\u4e2a\u6570\u636e\u96c6\u7684\u591a\u4e2a\u5f39\u7c27\uff0c\u4e00\u4e2a\u5f39\u7c27\u8ddf\u968f\u6216\u843d\u540e\u4e8e\u53e6\u4e00\u4e2a\u5f39\u7c27\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useTransition"),"\t\t\t \u7528\u4e8e\u5b89\u88c5/\u5378\u8f7d\u8f6c\u6362\uff08\u6dfb\u52a0/\u5220\u9664/\u66f4\u65b0\u9879\u76ee\u7684\u5217\u8868\uff09"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useChain"),"\t\t\t\t\t\t\u5c06\u591a\u4e2a\u52a8\u753b\u6392\u5217\u6216\u94fe\u63a5\u5728\u4e00\u8d77\u3002  "),(0,l.kt)("h3",{id:"common-api"},"Common Api"),(0,l.kt)("h4",{id:"configs"},"Configs"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"mass"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f39\u7c27\u7684\u91cd\u91cf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tension"),(0,l.kt)("td",{parentName:"tr",align:null},"170"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f39\u7c27\u7684\u5f20\u529b(\u503c\u8d8a\u5927\uff0c\u53d8\u5316\u901f\u5ea6\u8d8a\u5feb)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"friction"),(0,l.kt)("td",{parentName:"tr",align:null},"26"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f39\u7c27\u7684\u6469\u64e6(\u503c\u8d8a\u5927\uff0c\u6548\u679c\u8d8a\u6162)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clamp"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u4e3atrue\uff0c\u5219\u5728\u8d85\u51fa\u5176\u8fb9\u754c\u65f6\u505c\u6b62\u5f39\u7c27")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"precision"),(0,l.kt)("td",{parentName:"tr",align:null},"0.01"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7cbe\u786e\u5ea6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"velocity"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"\u521d\u59cb\u901f\u5ea6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"duration"),(0,l.kt)("td",{parentName:"tr",align:null},"undefined"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u5927\u4e8e0\u4f1a\u5207\u6362\u5230\u57fa\u4e8e\u6301\u7eed\u65f6\u95f4\u7684\u52a8\u753b\uff0c\u800c\u4e0d\u662f\u5f39\u7c27\u7269\u7406\u6548\u679c\uff0c\u5219\u503c\u5e94\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u663e\u793a\uff08\u4f8b\u5982\uff0c\u6301\u7eed\u65f6\u95f4\uff1a250\u6beb\u79d2\uff0c\u6301\u7eed\u65f6\u95f4\u4e3a250\u6beb\u79d2\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"easing"),(0,l.kt)("td",{parentName:"tr",align:null},"t => t"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u4e3a\u7ebf\u6027\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u6240\u9700\u7684\u7f13\u52a8\uff0c\u4f8b\u5982d3-ease")))),(0,l.kt)("h4",{id:"presets"},"Presets"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bbe\u5b9a\u503c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.default"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 170, friction: 26 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.gentle"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 120, friction: 14 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.wobbly"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 180, friction: 12 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.stiff"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 210, friction: 20 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.slow"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 280, friction: 60 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.molasses"),(0,l.kt)("td",{parentName:"tr",align:null},"{ mass: 1, tension: 280, friction: 120 }")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},"import { ..., config } from 'react-spring'\n\nuseSpring({ ..., config: config.default })\n")),(0,l.kt)("h4",{id:"properties"},"Properties"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"from"),(0,l.kt)("td",{parentName:"tr",align:null},"obj"),(0,l.kt)("td",{parentName:"tr",align:null},"\u521d\u59cb\u72b6\u6001\uff0c\u53ef\u9009")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"to"),(0,l.kt)("td",{parentName:"tr",align:null},"obj/fn/array(obj)"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5207\u6362\u52a8\u753b\u6548\u679c\u81f3\u67d0\u4e2a\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"delay"),(0,l.kt)("td",{parentName:"tr",align:null},"number/fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u52a8\u753b\u5f00\u59cb\u524d\u7684\u5ef6\u8fdf\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u4e5f\u53ef\u4f5c\u4e3a\u5355\u4e2a\u952e\u7684\u529f\u80fd\u4f7f\u7528\uff1akey=>delay")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"immediate"),(0,l.kt)("td",{parentName:"tr",align:null},"bool/fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u4e3atrue\uff0c\u5219\u963b\u6b62\u52a8\u753b\u3002\u4e5f\u53ef\u4f5c\u4e3a\u5355\u4e2a\u952e\u7684\u529f\u80fd\u4f7f\u7528\uff1akey=>immediate")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config"),(0,l.kt)("td",{parentName:"tr",align:null},"obj/fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f39\u7c27\u914d\u7f6e\uff08\u5305\u542b\u8d28\u91cf\uff0c\u5f20\u529b\uff0c\u6469\u64e6\u529b\u7b49\uff09\u3002\u4e5f\u53ef\u4f5c\u4e3a\u5355\u4e2a\u952e\u7684\u529f\u80fd\u4f7f\u7528\uff1akey => config")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"reset"),(0,l.kt)("td",{parentName:"tr",align:null},"bool"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5f39\u7c27\u5f00\u59cb\u4ece\u5934\u5f00\u59cb\u52a8\u753b\uff08from->to\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"reverse"),(0,l.kt)("td",{parentName:"tr",align:null},"bool"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8c03\u6362from\u548cto\u7684\u72b6\u6001\uff0c\u53ea\u548creset\u4e00\u8d77\u4f7f\u7528\u65f6\u751f\u6548")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onStart"),(0,l.kt)("td",{parentName:"tr",align:null},"fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53\u52a8\u753b\u6548\u679c\u542f\u7528\u65f6\u7684\u56de\u8c03\u51fd\u6570")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onRest"),(0,l.kt)("td",{parentName:"tr",align:null},"fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6240\u6709\u52a8\u753b\u505c\u987f\u65f6\u8fdb\u884c\u56de\u8c03")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onFrame"),(0,l.kt)("td",{parentName:"tr",align:null},"fn"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9010\u5e27\u56de\u8c03\uff0c\u4f20\u9012\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u52a8\u753b\u503c")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"useSpring({ from: { ... }, to: { ... }, delay: 100, onRest: () => ... })\n")),(0,l.kt)("h3",{id:"usespring"},"useSpring"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e24\u79cd\u65b9\u6cd5\u4f7f\u7528")),(0,l.kt)("p",null,"\u901a\u8fc7props\u4f20\u9012\u7ed9style\u5b9e\u73b0\u52a8\u753b\u6548\u679c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},'import {useSpring, animated} from \'react-spring\';\n\nconst App = () => {\n    const props = useSpring({\n        from: { opacity: 0.5, color: "white" },\n        to: {\n          color: "red",\n          opacity: 1,\n          borderBottom: "2px solid blue",\n          paddingBottom: 5\n        },\n        config: config.default && { duration: 1000 },\n        reset: true\n      });\n    return (\n        <div>\n            <animated.div style={props}>Hello,React Spring!</animated.div>\n        </div>\n    )\n}\n\nexport default App;\n')),(0,l.kt)("p",null,"\u6216\u8005\uff1a\u4f20\u9012\u4e00\u4e2a\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff0c\u5e76\u4f7f\u7528\u201c set\u201d\u8fdb\u884c\u66f4\u65b0"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},'import "./styles.css";\nimport { useSpring, animated } from "react-spring";\n\nexport default function App() {\n  const [props, set, stop] = useSpring(() => ({color: "black",opacity: 1}));\n  return (\n    <div className="App">\n      <animated.h1 style={props}>hello</animated.h1>\n      <button onClick={()=>{set({color: "red",opacity: 0.5})}}>click me</button>\n    </div>\n  );\n}\n')),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/still-glade-1q3dj?file=/src/App.js"},"\u70b9\u51fb\u67e5\u770b\u5b9e\u4f8b")),(0,l.kt)("h3",{id:"usesprings"},"useSprings"),(0,l.kt)("p",null,"\u521b\u5efa\u591a\u4e2a\u5f39\u7c27\uff0c\u6bcf\u4e2a\u5f39\u7c27\u90fd\u6709\u81ea\u5df1\u7684\u914d\u7f6e\u3002\u5c06\u5176\u7528\u4e8e\u9759\u6001\u5217\u8868\u7b49\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},"import {useSprings, animated} from 'react-spring'\n")),(0,l.kt)("p",null,"\u4f7f\u7528\u65b9\u6cd5\u540cuseSpring"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},'import { useEffect } from "react";\nimport { useSprings, animated } from "react-spring";\nimport "./styles.css";\n\nexport default function App() {\n  const items = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9];\n  const springs = useSprings(\n    items.length,\n    items.map((item) => ({ opacity: item }))\n  );\n  const [newSprings, set, stop] = useSprings(items.length, (index) => ({\n    opacity: 1\n  }));\n  useEffect(() => {\n    set((index) => ({\n      opacity: items.map((item, index) => {\n        return item;\n      })\n    })); \n    items.map((item, index) => {\n      return set((index) => ({ opacity: item }));\n    });\n  }, [0]); \n  return (\n    <div className="App">\n      {springs.map((item, index) => {\n        return (\n          <animated.h1 key={index} style={item}>\n            Hello\n          </animated.h1>\n        );\n      })}\n      {newSprings.map((item, index) => {\n        return (\n          <animated.h1 key={index} style={item}>\n            Hello\n          </animated.h1>\n        );\n      })}\n    </div>\n  );\n}\n')),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/friendly-chandrasekhar-cod67?file=/src/App.js:0-1031"},"\u70b9\u51fb\u67e5\u770b\u5b9e\u4f8b")),(0,l.kt)("h3",{id:"usetrail"},"useTrail"),(0,l.kt)("p",null,"\u4f7f\u7528\u5355\u4e2a\u914d\u7f6e\u521b\u5efa\u591a\u4e2a\u5f39\u7c27\uff0c\u6bcf\u4e2a\u5f39\u7c27\u5c06\u8ddf\u968f\u524d\u4e00\u4e2a\u3002\u5c06\u5176\u7528\u4e8e\u4ea4\u9519\u52a8\u753b\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},"import {useTrail, animated} from 'react-spring';\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},'import { useEffect } from "react";\nimport { useTrail, animated } from "react-spring";\nimport "./styles.css";\n\nexport default function App() {\n  const items = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9];\n  const trails = useTrail(items.length, { opacity: 0.5, color: "red" });\n  const [newTrails, set, stop] = useTrail(items.length, (index) => ({\n    opacity: 1,\n    color: "black",\n  }));\n  useEffect(() => {\n    set({ opacity: 0.5, color: "blue" });\n  }, [0]);\n  return (\n    <div className="App">\n      {trails.map((item, index) => {\n        console.log(item);\n        return <animated.h1 style={item}>{items[index]}</animated.h1>;\n      })}\n      {newTrails.map((item, index) => {\n        return <animated.h1 style={item}>{items[index]}</animated.h1>;\n      })}\n    </div>\n  );\n}\n')),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/small-pine-9pjoy?file=/src/App.js:0-785"},"\u70b9\u51fb\u67e5\u770b\u5b9e\u4f8b")),(0,l.kt)("h3",{id:"usetransition"},"useTransition"),(0,l.kt)("p",null,"\u52a8\u753b\u7684TransitionGroup\u3002\u5411\u5176\u63d0\u4f9b\u60a8\u7684\u9879\u76ee\uff0c\u952e\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"\u5982\u679c\u9879\u76ee\u662f\u539f\u5b50\u7684\uff0c\u5219\u53ef\u4ee5\u662f\u952e\uff09\u548c\u751f\u547d\u5468\u671f\u3002\u6bcf\u5f53\u6dfb\u52a0\u6216\u5220\u9664\u9879\u76ee\u65f6\uff0c\u5b83\u5c06\u4e3a\u8fd9\u4e9b\u66f4\u6539\u8bbe\u7f6e\u52a8\u753b\u3002"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u8f6c\u6362\u6570\u7ec4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-react"},"import {useTransition, animated} from 'react-spring'\n")),(0,l.kt)("h2",{id:"render-props-api"},"Render-props-Api"),(0,l.kt)("h3",{id:"parallax"},"Parallax"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f7f\u7528")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"import {Parallax, ParallaxLayer} from 'react-spring/renderprops-addons'\n")),(0,l.kt)("h4",{id:"\u4ecb\u7ecd-1"},"\u4ecb\u7ecd"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"parallax"),"\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\uff0c\u5185\u542b\u4efb\u610f\u6570\u91cf\u7684ParallaxLayer\uff0c\u5b83\u4f1a\u6839\u636e\u5b83\u4eec\u7684\u504f\u79fb\u91cf\u548c\u901f\u5ea6\u8fdb\u884c\u79fb\u52a8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"<Parallax pages={3} scrolling={false} horizontal ref={ref => (this.parallax = ref)}>\n  <ParallaxLayer offset={0} speed={0.5}>\n    <span onClick={() => this.parallax.scrollTo(1)}>Layers can contain anything</span>\n  </ParallaxLayer>\n</Parallax>\n")),(0,l.kt)("h4",{id:"parallax-1"},"Parallax"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Required"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"config"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Object"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"config.slow"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Spring config (optional)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"scrolling"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Bool"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"true"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Allow content to be scrolled, or not")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"horizontal"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Bool"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Scrolls horizontally or vertically")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"pages"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Number"),(0,l.kt)("td",{parentName:"tr",align:"left"},"true"),(0,l.kt)("td",{parentName:"tr",align:"left"},"-"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Determines the total space of the inner content where each page takes 100% of the visible container")))),(0,l.kt)("h4",{id:"parallaxlayer"},"ParallaxLayer"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Required"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Descriptionz"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"factor"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Number"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"1"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Size of a page, (1=100%, 1.5=1 and 1/2, ...)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"offset"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Number"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"0"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Determines where the layer will be at when scrolled to (0=start, 1=1st page, ...)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"speed"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Number"),(0,l.kt)("td",{parentName:"tr",align:"left"},"false"),(0,l.kt)("td",{parentName:"tr",align:"left"},"0"),(0,l.kt)("td",{parentName:"tr",align:"left"},"shifts the layer in accordance to its offset, values can be positive or negative")))),(0,l.kt)("h4",{id:"tips"},"Tips"),(0,l.kt)("p",null,"\u4eb2\u81ea\u5c1d\u8bd5\u540e\u53d1\u73b0"))}u.isMDXComponent=!0}}]);